# DREAM CATCHER

🦁 멋쟁이 사자처럼 12기 중앙해커톤 성신여대 2팀 백앤드 페이지

## Project Introduction



## Development Period

2024.07.09 ~ 2024.08.06

## Tech Stack

- **Backend Framework**: Django DRF
- **Database**: SQLite
- **Server**: AWS EC2
- **Web Server**: Nginx
- **SSL**: Let's Encrypt


### API Documentation

| 엔드포인트                                  | 설명                                  | 메서드 | 헤더                        | 요청 본문 | 응답                                                                                                                                                                                                                     |
|-------------------------------------------|--------------------------------------|--------|----------------------------|----------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| home/                                     | 홈 화면                               | POST   |                            |          |                                                                                                                                                                                                                              |
| X                                         | 모든 리스트 가져오기                   | GET    | Authorization: Bearer Token|          | 200 OK: { "everylist": [...], "lifelist": [...] }<br>401 Unauthorized: 인증되지 않은 사용자<br>403 FORBIDDEN : 접근 권한이 없는 사용자                                                |
| notifications/                            | 모든 알림 조회                         | GET    | Authorization: Bearer Token|          | 200 OK: [ { "id": 1, "user": 1, "post": 5, "message": "user1님이 ...", "created_at": "2024-07-24T12:34:56Z", "read": false }, { ... } ]                                                  |
| notifications/mark_as_read/int:pk/        | 알림을 읽음 상태로 변경                | POST   | Authorization: Bearer Token| Content-Type: application/json | 200 OK: { "message": "Notification marked as read" }<br>404 Not Found: { "detail": "Not found." }<br>401 Unauthorized: { "detail": "Authentication credentials were not provided." }<br>403 Forbidden: { "detail": "You do not have permission to perform this action." } |
| signup/                                   | 회원가입                               | POST   |                            | form-data   | 201 Created: { "message": "회원가입 성공" }                                                                                                                                                                                   |
| check_user_id/                            | 아이디 중복 확인                       | POST   |                            | form-data   | 200 OK: { "user_id_exists": true/false }                                                                                                                                                                                     |
| login/                                    | 로그인                                 | POST   |                            | form-data   | 200 OK: { "message": "로그인 성공", "refresh": "...", "access": "..." }                                                                                                                                                      |
| delete-account/                           | 계정 삭제                              | DELETE | Authorization: Bearer Token|          | 200 OK: { "message": "계정 삭제 성공" }                                                                                                                                                                                       |
| logout/                                   | 로그아웃                               | POST   | Authorization: Bearer Token|          | 200 OK: { "message": "로그아웃 성공" }                                                                                                                                                                                        |
| profile-edit/                             | 프로필 수정                            | POST   | Authorization: Bearer Token| form-data   | 200 OK: { "message": "프로필이 성공적으로 수정되었습니다." }                                                                                                                                                                    |
| personal-info-edit/                       | 개인정보 수정                          | POST   | Authorization: Bearer Token| form-data   | 200 OK: { "message": "프로필이 성공적으로 수정되었습니다." }                                                                                                                                                                    |
| password-reset-request/                   | 비밀번호 재설정을 위한 이메일 요청       | POST   |                            | raw(json)   | 200 OK: { "email": "20211307@sungshin.ac.kr" }<br>404 Not Found: { "error": "해당 이메일 주소가 없습니다." }                                                                                                                   |
| password-reset-confirm/                   | 비밀번호 재설정 확인                    | POST   |                            | raw(json)   | 200 OK: { "message": "비밀번호 재설정 성공" }<br>404 Not Found: { "error": "해당 이메일 주소가 없습니다." }                                                                                                                    |
| user/                                     | 사용자 정보 조회                        | GET    | Authorization: Bearer Token|          | 200 OK: { "id": 6, "user_id": "kkkknnnn", "username": "포포", "email": "34527865@naver.com", "photo_url": "https://dreamcatcherrr.store/myproject/media/default-profile.jpg", "profile": { "age": null } }                      |
| characters/                               | 캐릭터 생성                             | POST   | Authorization: Bearer Token| raw(json)   | 201 Created: { "id": 3, "user": 3, "name": "My Parrot", "type": "parrot", "gauge": 0, "active": true }                                                                                                                        |
| characters/                               | 캐릭터 정보 조회                        | GET    | Authorization: Bearer Token|          | 200 OK: [ { "id": 1, "user": 1, "name": "my parrot", "type": "parrot", "gauge": 0, "active": true } ]                                                                                                                         |
| characters/<character_id>/                | 캐릭터 타입 변경                        | PATCH  | Authorization: Bearer Token| raw(json)   | 200 OK: { "id": 1, "user": 1, "name": "my parrot", "type": "dolphin", "gauge": 0, "active": true }                                                                                                                            |
| journal_entries/                          | 캐릭터 행동 기록                         | POST   | Authorization: Bearer Token| raw(json)   | 201 Created: { "id": 2, "character": 1, "date": "2024-07-23", "action_type": "eat", "meal_time": "breakfast", "action_detail": "시리얼과 우유", "completed": false }                                                          |
| characters/<character_id>/records/<date>/ | 일별 먹기 기록 조회                     | GET    | Authorization: Bearer Token|          | 200 OK: { "date": "2024-08-05", "day": "Monday", "meals": { "breakfast": [ "시리얼과 우유" ], "lunch": [ "콩나물국밥", "토스트" ], "dinner": [ "순두부찌개", "밥", "스테이크" ], "snack": [ "젤리", "우유", "빵" ] } }          |
| recommendations/random/                   | 랜덤 추천                               | GET    | Authorization: Bearer Token|          | 200 OK: { "foods": [ "아이스크림빙수", "해물전", "부추전" ], "cleaning_spots": [ "주방 서랍", "차고", "재활용품 정리함" ], "walking_places": [ "서핑", "자이로토닉", "골프" ] }                                                |
| recommendations/keyword/                  | 키워드 기반 추천                       | GET    | Authorization: Bearer Token|          | 200 OK: { "foods": [ "장조림", "연근조림", "조개탕", "조개구이", "조기매운탕", "코다리조림", "조기구이", "우엉조림", "연근조림", "조개탕", "조개구이", "조기매운탕", "코다리조림", "조기구이", "우엉조림", "고등어조림", "연근조림" ], "cleaning_spots": [], "walking_places": [ "조깅", "체조" ] } |
| characters/gauge/                         | 캐릭터 게이지 조회                       | GET    | Authorization: Bearer Token|          | 200 OK: { "gauge": 40 }                                                                                                                                                                                                      |
| user-activity-dates/                      | 활동 날짜 조회                          | GET    | Authorization: Bearer Token|          | 200 OK: [ "2024-07-30" ]                                                                                                                                                                                                     |
| diary_entries/                            | 일기 작성                               | POST   | Authorization: Bearer Token| raw(json)   | 201 Created: { "id": 3, "character": 1, "date": "2024-07-24", "weather": "sunny", "diary_text": "오늘은 날씨가 좋았다." }                                                                                                     |
| characters/end/                           | 캐릭터 비활성화                          | POST   | Authorization: Bearer Token|          | 200 OK: { "message": "Character has been ended." }                                                                                                                                                                            |
| characters/<int:character_id>/ending/     | 캐릭터 엔딩 조회                        | GET    | Authorization: Bearer Token|          | 200 OK: [ { "date": "2024-08-05", "day": "Monday", "weather": "cloudy", "meals": { "breakfast": [ "시리얼과 우유", "빵" ], "lunch": [ "설렁탕", "주스", "껌" ], "dinner": [ "닭도리탕", "단무지" ], "snack": [ "스타벅스 케이크", "우유", "사탕", "젤리" ] }, "records": { "cleaning": [], "exercise": [], "shower": [] }, "diary": "날씨 배드." } ] |
| characters/<id>/journal/<date>/           | 특정 날짜의 행동 및 일기 조회           | GET    | Authorization: Bearer Token|          | 200 OK: { "date": "2024-07-25", "day": "Thursday", "weather": "sunny", "meals": { "breakfast": "시리얼과 우유", "lunch": "요거트", "dinner": "바게트", "snack": "뿡" }, "records": { "cleaning": "거실", "exercise": "배드민턴과 탁구", "shower": { "completed": false } }, "diary": "에어컨이 고장나서 너무 더웠다.." } |
| api/token/                                | JWT 토큰 발급                            | POST   |                            | raw(json)   | 200 OK: { "refresh": "리프레시 토큰", "access": "액세스 토큰" }                                                                                                                                                             |
| api/token/refresh/                        | JWT 토큰 갱신                            | POST   | Authorization: Bearer Token| raw(json)   | 200 OK: { "access": "액세스 토큰" }                                                                                                                                                                                          |
| post/create/                              | 게시물 생성                              | POST   | Authorization: Bearer Token| raw(json)   | 201 Created: { "message": "Post created successfully" }<br>403 FORBIDDEN: { "message": "You are banned from posting until YYYY-MM-DD HH:MM:SS" }                                                                               |
| post/like/int:pk/                         | 게시물 좋아요                             | POST   | Authorization: Bearer Token|          | 200 OK: { "liked": true, "total_likes": 10 }<br>200 OK: { "liked": false, "total_likes": 9 }<br>403 FORBIDDEN: { "message": "Post not found" }<br>404 Not Found: { "message": "Unauthorized" }                                 |
| post/posthome/                            | 게시물 홈                                | GET    |                            |          | 200 OK: [ { "id": 1, "content": "This is a sample post", "image": "http://example.com/media/post_images/sample.jpg", "date_posted": "2024-08-05T12:34:56Z", "author_username": "john_doe", "author_profile": { "profile_image": "http://example.com/media/profile_images/john_doe.jpg" }, "likes": [2, 3, 4], "total_likes": 3 }, { "id": 2, "content": "Another sample post", "image": null, "date_posted": "2024-08-04T11:22:33Z", "author_username": "jane_smith", "author_profile": { "profile_image": "http://example.com/media/profile_images/jane_smith.jpg" }, "likes": [1, 2], "total_likes": 2 } ] |
| post/update/<int:pk>/                     | 게시물 수정                              | PATCH  | Authorization: Bearer Token| raw(json)   | 200 OK: { "message": "게시물 수정 성공" }<br>403 FORBIDDEN: { "message": "Unauthorized" }                                                                                                                                      |
| post/delete/int:pk/                       | 게시물 삭제                              | DELETE | Authorization: Bearer Token|          | 200 OK: { "message": "게시물 삭제 성공" }<br>403 FORBIDDEN: { "message": "Unauthorized" }                                                                                                                                      |
| post/int:pk/posts                         | 사용자 게시물 목록                       | GET    | Authorization: Bearer Token|          | 200 OK: [ { "id": "게시물 ID", "title": "제목", "content": "내용", "author": "작성자", "date_posted": "작성일", "total_likes": "좋아요 수" }, ... ]                                                                             |
| post/int:pk/                              | 게시물 상세보기                           | GET    |                            |          | 200 OK: { "id": "게시물 ID", "title": "제목", "content": "내용", "author": "작성자", "date_posted": "작성일", "total_likes": "좋아요 수" }                                                                                      |
| post/notifications/read/int:pk/           | 특정 알림을 읽음 상태로 변경             | POST   | Authorization: Bearer Token|          | 200 OK: { "message": "Notification marked as read" }<br>403 FORBIDDEN: { "message": "Notification not found" }<br>404 Not Found: { "message": "Notification not found" }                                                      |
| post/report_post/int:pk/                  | 특정 게시물을 신고                       | POST   | Authorization: Bearer Token|          | 200 OK: { "message": "Post reported successfully" }<br>400 Bad Request: { "message": "You have already reported this post." }                                                                                                 |
| board/recommend/                          | 추천목록 만들기                           | POST   | Authorization: Bearer Token| raw(json)   | 200 OK: { "recommendations": "추천 리스트 (Array)" }                                                                                                                                                                        |
| board/recommend_page/                     | 추천 목록 페이지                          | GET    | Authorization: Bearer Token|          | 200 OK: { "message": "게시물 삭제 성공" }<br>403 FORBIDDEN: { "message": "Unauthorized" }                                                                                                                                      |
| board/add_recommendations/                | 추천 항목 추가                            | POST   | Authorization: Bearer Token| raw(json)   | 200 OK: { "success": "Recommendations added to your EveryList" }                                                                                                                                                             |
| board/everylist/                          | 에브리리스트 조회                         | GET    | Authorization: Bearer Token|          | 200 OK: [ { "id": 1, "user": 1, "task": "Test Task", "due_date": "2024-07-25", "due_time": "15:00:00", "completed": false, "created_at": "2024-07-25T14:00:00Z", "updated_at": "2024-07-25T14:00:00Z" }, ... ]                  |
| board/everylist/                          | 에브리리스트 생성                         | POST   | Authorization: Bearer Token| raw(json)   | 201 Created: { "id": 2, "user": 1, "task": "New Task", "due_date": "2024-07-26", "due_time": "14:30:00", "completed": false, "created_at": "2024-07-25T14:30:00Z", "updated_at": "2024-07-25T14:30:00Z" }                     |
| board/everylist/int:pk/                   | 에브리리스트 상세 조회                    | GET    | Authorization: Bearer Token|          | 200 OK: { "id": 1, "user": 1, "task": "Test Task", "due_date": "2024-07-25", "due_time": "15:00:00", "completed": false, "created_at": "2024-07-25T14:00:00Z", "updated_at": "2024-07-25T14:00:00Z" }                          |
| board/everylist/int:pk/                   | 에브리리스트 업데이트                     | PUT    | Authorization: Bearer Token| raw(json)   | 200 OK: { "id": 1, "user": 1, "task": "Updated Task", "due_date": "2024-07-27", "due_time": "16:00:00", "completed": true, "created_at": "2024-07-25T14:00:00Z", "updated_at": "2024-07-25T14:40:00Z" }                       |
| board/everylist/int:pk/                   | 에브리리스트 삭제                         | DELETE | Authorization: Bearer Token|          | 204 No Content                                                                                                                                                                                                              |
| board/lifelist/                           | 라이프리스트 조회                         | GET    | Authorization: Bearer Token|          | 200 OK: [ { "id": 1, "user": 1, "goal": "Test Goal", "description": "Description of the test goal", "target_date": "2024-12-31", "target_time": "23:59:00", "completed": false, "created_at": "2024-07-25T14:00:00Z", "updated_at": "2024-07-25T14:00:00Z" }, ... ] |
| board/lifelist/                           | 라이프리스트 생성                         | POST   | Authorization: Bearer Token| raw(json)   | 201 Created: { "id": 2, "user": 1, "goal": "New Goal", "description": "Description of the new goal", "target_date": "2024-12-31", "target_time": "23:59:00", "completed": false, "created_at": "2024-07-25T14:30:00Z", "updated_at": "2024-07-25T14:30:00Z" }      |
| board/lifelist/int:pk/                    | 라이프리스트 상세 조회                    | GET    | Authorization: Bearer Token|          | 200 OK: { "id": 1, "user": 1, "goal": "Test Goal", "description": "Description of the test goal", "target_date": "2024-12-31", "target_time": "23:59:00", "completed": false, "created_at": "2024-07-25T14:00:00Z", "updated_at": "2024-07-25T14:00:00Z" }           |
| board/lifelist/int:pk/                    | 라이프리스트 업데이트                     | PUT    | Authorization: Bearer Token| raw(json)   | 200 OK: { "id": 1, "user": 1, "goal": "Updated Goal", "description": "Updated description of the goal", "target_date": "2024-11-30", "target_time": "22:00:00", "completed": true, "created_at": "2024-07-25T14:00:00Z", "updated_at": "2024-07-25T14:40:00Z" }   |
| board/lifelist/int:pk/                    | 라이프리스트 삭제                         | DELETE | Authorization: Bearer Token|          | 204 No Content                                                                                                                                                                                                              |


## Collaborators

- 🦁**김나영** - [GitHub Profile](https://github.com/nnaX000/)

- 🦁**전해성** - [GitHub Profile](https://github.com/suncastle023)
