<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <title>개인 정보 수정</title>
    <script>
        document.addEventListener("DOMContentLoaded", function() {
            {% if messages %}
                {% for message in messages %}
                    {% if "다시 로그인 해주세요" in message %}
                        alert("{{ message }}");
                    {% endif %}
                {% endfor %}
            {% endif %}
        });
    </script>
</head>
<body>
    <h1>개인 정보 수정</h1>
    <form method="post" action="{% url 'personal_info_edit' %}">
        {% csrf_token %}
        <label for="user_id">아이디:</label>
        <input type="text" id="user_id" name="user_id" value="{{ user.user_id }}" required><br>
        
        <label for="username">이름:</label>
        <input type="text" id="username" name="username" value="{{ user.username }}" required><br>
        
        <label for="email">이메일:</label>
        <input type="email" id="email" name="email" value="{{ user.email }}" required><br>
        
        <label for="password">새 비밀번호:</label>
        <input type="password" id="password" name="password"><br>
        
        <label for="password2">새 비밀번호 확인:</label>
        <input type="password" id="password2" name="password2"><br>
        
        <button type="submit">수정</button>
    </form>
    {% if error %}
        <p style="color:red;">{{ error }}</p>
    {% endif %}
    {% if messages %}
        {% for message in messages %}
            <p style="color:green;">{{ message }}</p>
        {% endfor %}
    {% endif %}
</body>
</html>
